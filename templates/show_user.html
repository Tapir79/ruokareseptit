{% extends "layout.html" %} {% block title %} Käyttäjäsivu - {{user.username}}
{% endblock %} {% block content %} {% if user %}
<h2>Käyttäjän {{user.username}} tiedot</h2>

{% if user_recipes %}
<h3>{{ user.username }} on luonut {{ user_recipes | count }} reseptiä:</h3>
<ul>
  {% for recipe in user_recipes %}
  <li>
    <a href="/recipe/{{ recipe.id }}">{{ recipe.title }}</a>
    {% if recipe.avg_rating %} - {{ recipe.avg_rating }} {% endif %}
  </li>
  {% endfor %}
</ul>

<!-- Pagination Controls -->
<div>
  {% if page > 1 %}
  <a href="{{ url_for('show_user', user_id=user.id, page=page-1) }}"
    >Edellinen</a
  >
  {% endif %} Sivu {{ page }} / {{ total_pages }} {% if page < total_pages %}
  <a href="{{ url_for('show_user', user_id=user.id, page=page+1) }}"
    >Seuraava</a
  >
  {% endif %}
</div>

{% else %}
<p>Ei reseptejä</p>
{% endif %} {% endif %} {% endblock %}
